{%  load i18n %}
{%  load various_helpers %}

{% include 'lepidoptera/taxonomy/_country_grape_templates.html' %}

<table class="table table-bordered table-hover table-striped table-sm sticky-header">
    <thead class="thead-dark">
        <tr>
            <th scope="col">{% trans 'Name' %}</th>
            <th scope="col">{% trans 'Vernacular names' %}</th>
            <th scope="col"><span class="oi oi-camera-slr"></span></th>
            <th scope="col">{% trans 'Distribution' %}</th>
        </tr>
    </thead>

    <tbody id="species-table-body">
        {% for s in species_list %}
            {% if s.is_valid %} {# We skip synonyms... #}
                <tr class="clickable-row" data-href="{{ s.get_absolute_url }}">
                    <td class="small">
                        <a href="{{ s.get_absolute_url }}">{{ s.html_str }}</a>
                        <span class="font-weight-light"> {{ s.author }}</span>

                        {% for synonym in s.synonyms.all %}
                            <span class="font-weight-light">
                                <br/> = <a href="{{ synonym.get_absolute_url }}">{{ synonym.html_str }} {{ synonym.author }}</a>
                            </span>
                        {% endfor %}

                    </td>

                    <td class="small">
                        {% field_in_all_available_languages settings.LANGUAGES s 'vernacular_name' %}
                    </td>

                    <td>
                        {% if s.has_pictures %}<span class="oi oi-camera-slr"></span>{% endif %}
                    </td>

                    <td class="px-3" style="width: 550px; overflow: auto;">
                        <distribution-grapefruit :species-id="{{ s.pk }}" service-url="{% url 'species_per_province_and_period' %}"></distribution-grapefruit>
                    </td>
                </tr>
            {%  endif %}
        {% endfor %}
    </tbody>
</table>